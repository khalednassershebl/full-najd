<?php

namespace Database\Seeders;

use App\Models\Blog;
use App\Models\BlogCategory;
use Illuminate\Database\Seeder;
use Illuminate\Support\Str;

class BlogSeeder extends Seeder
{
    /**
     * Run the database seeds.
     */
    public function run(): void
    {
        $articles = [
            [
                'title' => 'كيف يؤدي الاستثمار في التصميم الجيد إلى نجاح الأعمال على المدى الطويل',
                'excerpt' => 'يُعدّ التصميم الجيد أحد أهم ركائز تميّز الشركات في السوق اليوم. نستعرض كيف يُترجم الاستثمار في التصميم إلى نجاح مستدام.',
                'content' => '<p>يُعدّ التصميم الجيد أحد أهم ركائز تميّز الشركات في السوق اليوم. لا يقتصر الأمر على الشكل الجمالي فحسب، بل يمتدّ إلى تجربة المستخدم والهوية البصرية والثقة التي يمنحها العملاء لعلامتك التجارية.</p><p>في ظلّ المنافسة الشديدة والتحوّل الرقمي السريع، أصبحت الانطباعات الأولى تحدّد مصير العلاقة بين العميل والشركة. المواقع الإلكترونية والتطبيقات والهوية البصرية ليست مجرد «واجهة»؛ بل هي جزء من رسالتك وقيمك.</p><p>الخلاصة: الاستثمار في التصميم الجيد ليس ترفاً، بل ضرورة استراتيجية لتميّزك ونجاح أعمالك على المدى الطويل.</p>',
                'category_name' => 'تطوير المواقع',
                'sort_order' => 1,
                'published_at' => now()->subDays(10),
            ],
            [
                'title' => 'أفضل ممارسات التصميم لتحسين تجربة المستخدم',
                'excerpt' => 'تجربة المستخدم لا تعني فقط «أن الموقع يعمل». تعني أن الزائر يجد ما يبحث عنه بسهولة ووضوح.',
                'content' => '<p>تجربة المستخدم (UX) هي جوهر التفاعل بين المستخدم والمنتج الرقمي. عندما نستثمر في تصميم يراعي تجربة المستخدم نقلّل الأخطاء والإحباط، و نزيد من رضا العملاء ومعدّلات الإكمال.</p><p>الدراسات تشير إلى أن المستخدمين يُكوّنون انطباعاً عن الموقع خلال ثوانٍ قليلة. تصميم منظم وسهل التصفح يزيد من معدّل التحويل ويقلّل من معدّل الارتداد.</p><p>شركة نجد لحلول الأعمال تضع تجربة المستخدم ضمن رؤيتها الشاملة للتحوّل المؤسسي وبناء الحلول المتكاملة.</p>',
                'category_name' => 'التصميم',
                'sort_order' => 2,
                'published_at' => now()->subDays(9),
            ],
            [
                'title' => 'استراتيجيات التسويق الرقمي الفعالة للشركات الناشئة',
                'excerpt' => 'كيف تبني حضوراً رقمياً قوياً بميزانية محدودة؟ نستعرض استراتيجيات عملية للشركات الناشئة.',
                'content' => '<p>التسويق الرقمي أصبح ضرورة لكل شركة تطمح إلى الوصول لعملاء جدد والاحتفاظ بالحاليين. للشركات الناشئة، التركيز على القنوات ذات العائد المرتفع أمر حيوي.</p><p>من المحتوى المفيد إلى إعلانات منصات التواصل الاجتماعي المستهدفة، ومن تحسين محركات البحث (SEO) إلى البريد الإلكتروني التسويقي، توجد أدوات كثيرة يمكن توظيفها بذكاء.</p><p>نجد لحلول الأعمال تقدم استشارات في مجال التسويق وتطوير الهوية لمساعدة عملائها على بناء وجود رقمي فعّال.</p>',
                'category_name' => 'التسويق الرقمي',
                'sort_order' => 3,
                'published_at' => now()->subDays(8),
            ],
            [
                'title' => 'التحول الرقمي: من أين تبدأ مؤسستك؟',
                'excerpt' => 'التحول الرقمي ليس مشروعاً واحداً بل رحلة مستمرة. نقدّم خارطة طريق عملية للبدء.',
                'content' => '<p>التحول الرقمي يبدأ بتقييم صادق لوضع المؤسسة الحالي: أين نقف من الناحية التقنية والعملياتية؟ وما أولويات العمل التي يمكن للتقنية دعمها؟</p><p>الخطوة التالية غالباً تكون في اختيار مشاريع رائدة (Pilot) ذات تأثير واضح وقابلية للقياس، ثم التوسع تدريجياً.</p><p>الشراكات مع جهات متخصصة مثل نجد تسرّع هذه الرحلة وتقلل المخاطر عبر الخبرة والمنهجيات المجرّبة.</p>',
                'category_name' => 'التحول الرقمي',
                'sort_order' => 4,
                'published_at' => now()->subDays(7),
            ],
            [
                'title' => 'دور الحوكمة الرشيدة في استدامة المؤسسات',
                'excerpt' => 'الحوكمة ليست إجراءات شكلية بل إطار يضمن الشفافية والمساءلة واتخاذ القرار السليم.',
                'content' => '<p>الحوكمة الرشيدة تُعدّ ركيزة لاستدامة أي مؤسسة، سواء كانت حكومية أو خاصة. فهي تنظم العلاقة بين الإدارة والمساهمين وأصحاب المصلحة، وتحدد الصلاحيات والمسؤوليات.</p><p>عندما تكون الإجراءات واللوائح واضحة ومطبقة بإنصاف، تزداد ثقة المستثمرين والعملاء، وتقل المخاطر التشغيلية والقانونية.</p><p>نحن في نجد نؤمن بأن الحوكمة جزء من التحول المؤسسي الشامل الذي نقدمه لعملائنا.</p>',
                'category_name' => 'إدارة واستشارات',
                'sort_order' => 5,
                'published_at' => now()->subDays(6),
            ],
            [
                'title' => 'بناء فرق عمل عالية الأداء: نصائح عملية',
                'excerpt' => 'النجاح المؤسسي يعتمد على فرق قادرة على التعاون والإنجاز. كيف تبني وتطور فرقك؟',
                'content' => '<p>فرق العمل الفعّالة لا تُبنى بالصدفة. تحتاج إلى توظيف واضح للأدوار، وقنوات اتصال مفتوحة، وأهداف مشتركة قابلة للقياس.</p><p>التدريب المستمر وتأهيل القادة يضمن أن المهارات تواكب متطلبات السوق. كما أن ثقافة تقدير الإنجاز والتعلم من الأخطاء تخلق بيئة آمنة للإبداع.</p><p>خدماتنا في تأهيل الفرق وتمكين القادة مصممة لدعم مؤسستك في هذه الرحلة.</p>',
                'category_name' => 'إدارة واستشارات',
                'sort_order' => 6,
                'published_at' => now()->subDays(5),
            ],
            [
                'title' => 'الذكاء الاصطناعي في خدمة الأعمال: فرص وتحديات',
                'excerpt' => 'كيف يمكن للشركات الاستفادة من الذكاء الاصطناعي دون إغفال المخاطر والأخلاقيات؟',
                'content' => '<p>الذكاء الاصطناعي يفتح أبواباً واسعة للأتمتة والتحليل الذكي والدعم المتقدم لاتخاذ القرار. من روبوتات المحادثة إلى تحليل البيانات الضخمة، التطبيقات لا حصر لها.</p><p>في المقابل، يبرز سؤال الأخلاقيات والشفافية وخصوصية البيانات. المؤسسات التي تتبنى AI بوعي وتضع أطراً واضحة تكون الأكثر استفادة على المدى الطويل.</p><p>نجد تقدم حلولاً في مجال الذكاء الاصطناعي متوافقة مع أفضل الممارسات والحوكمة.</p>',
                'category_name' => 'الذكاء الاصطناعي',
                'sort_order' => 7,
                'published_at' => now()->subDays(4),
            ],
            [
                'title' => 'إدارة المشاريع PMO: لماذا تحتاجها مؤسستك؟',
                'excerpt' => 'مكاتب إدارة المشاريع تضمن تنفيذ المبادرات في الوقت والميزانية المحددين وبجودة عالية.',
                'content' => '<p>مكتب إدارة المشاريع (PMO) هو الهيكل الذي يوحد منهجيات إدارة المشاريع داخل المؤسسة، ويوفر الأدوات والتدريب والدعم اللازم لمديري المشاريع.</p><p>النتيجة: مشاريع منجزة في الوقت المحدد، بميزانيات مضبوطة، ومع تقارير واضحة للإدارة العليا. هذا يقلل من الفوضى والتأخير ويزيد من احتمال نجاح المبادرات الاستراتيجية.</p><p>نقدم في نجد خدمات تأسيس وتشغيل مكاتب إدارة المشاريع وفق أفضل المعايير العالمية.</p>',
                'category_name' => 'إدارة المشاريع',
                'sort_order' => 8,
                'published_at' => now()->subDays(3),
            ],
            [
                'title' => 'تحسين العمليات وإدارة الجودة: أين تبدأ؟',
                'excerpt' => 'تحسين العمليات ليس حدثاً لمرة واحدة بل عملية مستمرة تقود إلى كفاءة أعلى ورضا عملاء أفضل.',
                'content' => '<p>تحسين العمليات يبدأ برسم خريطة للعمليات الحالية (As-Is) ثم تحديد الاختناقات والهدر والفرص. بعدها نصل إلى تصميم العمليات المستهدفة (To-Be) ووضع خطة تنفيذ تدريجية.</p><p>إدارة الجودة ترتبط ارتباطاً وثيقاً: معايير واضحة، قياس مستمر، وتحسين مستمر (كايزن) هي أساس النجاح.</p><p>نجد تساعد عملاءها في تحسين العمليات وإدارة الجودة عبر استشارات ميدانية وأدوات عملية.</p>',
                'category_name' => 'تحسين العمليات',
                'sort_order' => 9,
                'published_at' => now()->subDays(2),
            ],
            [
                'title' => 'الأنظمة الإدارية والمحاسبية: أساس اتخاذ القرار',
                'excerpt' => 'بدون بيانات دقيقة وفي الوقت المناسب، القرارات تصبح تخمينية. كيف تبني أنظمة إدارية ومحاسبية فعّالة؟',
                'content' => '<p>الأنظمة الإدارية والمحاسبية توفر الرؤية الشاملة للموارد والمخزون والموظفين والميزانيات. عندما تكون متكاملة وآمنة، تصبح التقارير والتحليلات أداة يومية للإدارة.</p><p>اختيار النظام المناسب لمؤسستك يعتمد على الحجم، القطاع، والخطط المستقبلية. التكامل مع أنظمة أخرى وتدريب المستخدمين جزء لا يتجزأ من النجاح.</p><p>نصمم وننفذ في نجد أنظمة إدارية ومحاسبية متكاملة مع الدعم والتدريب المستمر.</p>',
                'category_name' => 'الأنظمة الإدارية',
                'sort_order' => 10,
                'published_at' => now()->subDay(),
            ],
            [
                'title' => 'موقع شركة نجد لحلول الأعمال: من الفكرة إلى الإطلاق',
                'excerpt' => 'قصة تطوير الموقع الرسمي لنجد: التصميم، تجربة المستخدم، والمحتوى الذي يعكس هويتنا.',
                'content' => '<p>تطوير موقع شركة نجد لحلول الأعمال جاء ليعكس رؤيتنا وخدماتنا بشكل احترافي وواضح. اعتمدنا على تصميم عصري يتوافق مع الهوية البصرية، وواجهة سهلة التصفح للزوار.</p><p>المحتوى نُظم بحيث يسهل على الزائر التعرف على من نحن، ماذا نقدم، وكيف يمكنه طلب الاستشارة. تجربة المستخدم كانت في صلب كل قرار تصميمي.</p><p>نفس المعايير نطبقها عند تطويرنا لمواقع وحلول رقمية لعملائنا.</p>',
                'category' => 'تطوير المواقع',
                'sort_order' => 11,
                'published_at' => now(),
            ],
        ];

        foreach ($articles as $article) {
            $categoryName = $article['category_name'] ?? null;
            unset($article['category_name']);
            $categoryId = null;
            if ($categoryName) {
                $categoryId = BlogCategory::firstOrCreate(
                    ['name' => $categoryName],
                    ['slug' => Str::slug($categoryName) ?: 'cat-' . uniqid(), 'sort_order' => 0]
                )->id;
            }
            Blog::create(array_merge($article, [
                'slug' => Str::slug($article['title']),
                'category_id' => $categoryId,
                'is_published' => true,
            ]));
        }
    }
}
