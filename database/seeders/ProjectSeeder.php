<?php

namespace Database\Seeders;

use App\Models\Project;
use App\Models\ProjectCategory;
use Illuminate\Database\Seeder;
use Illuminate\Support\Str;

class ProjectSeeder extends Seeder
{
    /**
     * Run the database seeds.
     */
    public function run(): void
    {
        $categories = ProjectCategory::orderBy('sort_order')->pluck('id')->toArray();
        if (empty($categories)) {
            $this->command->warn('Run ProjectCategorySeeder first.');
            return;
        }

        $projects = [
            [
                'title' => 'موقع شركة نجد لحلول الأعمال لخدمات السياحة العلاجية',
                'subtitle' => 'موقع شركة نجد لحلول الأعمال',
                'excerpt' => 'تطوير مواقع إلكترونية احترافية تدعم أهداف الشركة وتجربة المستخدم.',
                'content' => '<p>مشروع متكامل لتطوير موقع إلكتروني يعرض خدمات الشركة في مجال السياحة العلاجية، مع تصميم عصري وتجربة مستخدم سلسة ومتوافق مع معايير محركات البحث.</p><h2>نظرة عامة</h2><p>تعاقدت شركة نجد لحلول الأعمال مع فريقنا لتطوير موقعها الإلكتروني الرسمي، بهدف توضيح رؤية الشركة وخدماتها.</p><h2>النتائج</h2><p>بعد الإطلاق، حقق الموقع أهداف الشركة من حيث الوضوح والمصداقية وسهولة التواصل.</p>',
            ],
            [
                'title' => 'تطبيق شركة نجد لحلول الأعمال لخدمات السياحة العلاجية',
                'subtitle' => 'تطبيق شركة نجد لحلول الأعمال',
                'excerpt' => 'تطبيق جوال يوفر حجز الخدمات والاستشارات من أي مكان.',
                'content' => '<p>تطوير تطبيق موبايل متكامل لشركة نجد يربط العملاء بالخدمات والاستشارات. التطبيق يدعم العربية بالكامل ويتوافق مع معايير سهولة الاستخدام.</p><h2>التحديات</h2><p>كانت الحاجة إلى واجهة بسيطة وآمنة مع دعم الدفع والحجوزات.</p><h2>الحل</h2><p>قمنا بتصميم وتطوير التطبيق باستخدام تقنيات حديثة تضمن السرعة والأمان.</p>',
            ],
            [
                'title' => 'حملة تسويقية متكاملة لشركة نجد لحلول الأعمال',
                'subtitle' => 'حملة تسويقية لشركة نجد',
                'excerpt' => 'حملة تسويق رقمي لتعزيز الوجود والوصول للجمهور المستهدف.',
                'content' => '<p>حملة تسويقية شاملة على منصات التواصل الاجتماعي والإعلانات المستهدفة لتعزيز علامة نجد وزيادة الطلبات والاستفسارات.</p><h2>الاستراتيجية</h2><p>اعتمدنا على محتوى مرئي ونصوص ترويجية متناسقة مع الهوية، مع استهداف ديموغرافي محدد.</p><h2>النتائج</h2><p>زيادة ملحوظة في التفاعل وطلبات الاستشارة خلال مدة الحملة.</p>',
            ],
            [
                'title' => 'هوية بصرية متكاملة لشركة نجد لحلول الأعمال',
                'subtitle' => 'هوية بصرية لشركة نجد',
                'excerpt' => 'تصميم هوية بصرية موحدة تعكس قيم الشركة وتميزها في السوق.',
                'content' => '<p>تصميم شعار وألوان وخطوط ومواد تسويقية متسقة لشركة نجد. الهوية تعكس الاحترافية والثقة والتركيز على الحلول المتكاملة.</p><h2>العناصر</h2><p>الشعار، الدليل البصري، البطاقات والورق الرسمي، القوالب الرقمية.</p><h2>التطبيق</h2><p>تم توحيد استخدام الهوية عبر الموقع والتطبيق والمواد المطبوعة.</p>',
            ],
            [
                'title' => 'تحسين محركات البحث لموقع شركة نجد لحلول الأعمال',
                'subtitle' => 'تحسين SEO لموقع نجد',
                'excerpt' => 'تحسين ظهور الموقع في نتائج البحث وزيادة الزيارات العضوية.',
                'content' => '<p>مشروع تحسين محركات البحث (SEO) لموقع نجد: تحليل الكلمات المفتاحية، تحسين المحتوى والبنية التقنية، وبناء روابط خلفية ذات جودة.</p><h2>الخطوات</h2><p>مراجعة تقنية، تحسين العناوين والوصف، إنتاج محتوى مفيد، ومتابعة الترتيب والتحويلات.</p><h2>النتائج</h2><p>تحسن ملحوظ في ترتيب الصفحات الرئيسية وزيادة الزيارات من البحث.</p>',
            ],
            [
                'title' => 'إعادة تصميم الهوية والعلامة التجارية لعميل قطاع الصحة',
                'subtitle' => 'هوية بصرية قطاع صحي',
                'excerpt' => 'تطوير علامة تجارية جديدة تعكس التخصص والثقة في قطاع الرعاية الصحية.',
                'content' => '<p>مشروع تطوير هوية بصرية كاملة لشركة رائدة في القطاع الصحي. الشعار والألوان والخطوط صُممت لتعكس النظافة والاحترافية والرعاية.</p><h2>التحدي</h2><p>التمييز في سوق مزدحم مع الحفاظ على الوضوح وسهولة التعرف.</p><h2>الحل</h2><p>هوية بصرية بسيطة وقوية قابلة للتطبيق على جميع القنوات.</p>',
            ],
            [
                'title' => 'استشارة تحول رقمي لمؤسسة حكومية',
                'subtitle' => 'استشارات تحول رقمي',
                'excerpt' => 'رسم خارطة طريق التحول الرقمي وتحديد الأولويات والمنهجيات.',
                'content' => '<p>تقديم استشارة شاملة لمؤسسة حكومية لرسم خارطة التحول الرقمي: تقييم الوضع الحالي، تحديد الأولويات، واختيار المشاريع الرائدة.</p><h2>المنهجية</h2><p>ورش عمل مع الإدارات، تحليل الفجوات، ووضع خطة تنفيذية مرحلية.</p><h2>المخرجات</h2><p>وثيقة خارطة طريق وملخص تنفيذي تم الاعتماد عليه في الميزانيات التالية.</p>',
            ],
            [
                'title' => 'منصة إدارة المشاريع والتحول الرقمي الداخلي',
                'subtitle' => 'منصة تحول رقمي',
                'excerpt' => 'بناء منصة داخلية لإدارة المبادرات الرقمية ومتابعة التحول.',
                'content' => '<p>تطوير منصة ويب داخلية لعميل كبير لإدارة مشاريع التحول الرقمي: متابعة المبادرات، التقارير، وربط الفرق. المنصة ساعدت في توحيد الرؤية وتسريع الإنجاز.</p><h2>المميزات</h2><p>لوحات تحكم، تقارير تلقائية، إدارة المهام والمواعيد، وتكامل مع أنظمة موجودة.</p><h2>النتيجة</h2><p>تحسن في الشفافية وتسريع اتخاذ القرار ومتابعة المشاريع.</p>',
            ],
        ];

        foreach ($projects as $index => $data) {
            $categoryId = $categories[$index % count($categories)];
            Project::firstOrCreate(
                ['slug' => Str::slug($data['title'])],
                [
                    'title' => $data['title'],
                    'category_id' => $categoryId,
                    'subtitle' => $data['subtitle'],
                    'excerpt' => $data['excerpt'],
                    'content' => $data['content'],
                    'image' => null,
                    'is_published' => true,
                    'sort_order' => $index + 1,
                ]
            );
        }
    }
}
